<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Veículos</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css">

    <link rel="stylesheet" th:href="@{/css/veiculos.css}">
    <script th:src="@{/js/background.js}" defer></script>
</head>
<body>

<canvas></canvas>

<div class="logo">
    <a th:href="@{/logo}">
        <img src="/images/autoUBI.png" alt="Logo">
    </a>
</div>

<div class="auth-buttons">
    <a class="btn-login" onclick="window.location.href='/login'">
        <i class="bi bi-person-fill"></i>
    </a>
</div>

<div class="menu">
    <i class="bi bi-list"></i>
    <span></span>
    <span></span>
    <span></span>
</div>

<div class="menu-off">
    <ul>
        <li><a href="/logo">Home</a></li>
        <li><a href="/veiculos">Veículos</a></li>
        <li><a href="/estatisticas">Estatísticas</a></li>
        <li><a href="/faq">FAQ</a></li>
        <li><a href="/sobre">Sobre nós</a></li>
    </ul>
</div>

<div class="filtro-bar">
    <form method="get" th:action="@{/veiculos}">
        <input type="text" name="termo" placeholder="Pesquisar por nome...">
        <select name="marca">
            <option value="">Marca</option>
            <option th:each="m : ${marcas}" th:value="${m}" th:text="${m}"></option>
        </select>
        <select name="modelo">
            <option value="">Modelo</option>
        </select>
        <select name="ano">
            <option value="">Ano</option>
            <option th:each="a : ${anos}" th:value="${a}" th:text="${a}"></option>
        </select>
        <select name="precoMax">
            <option value="">Preço Máximo</option>
            <option value="10000">10.000€</option>
            <option value="25000">25.000€</option>
            <option value="50000">50.000€</option>
            <option value="100000">100.000€</option>
        </select>
        <button type="submit">Filtrar</button>
    </form>
</div>

<div class="veiculos-grid">
    <a th:href="@{'/veiculo/' + ${v.ID}}" class="card" th:each="v : ${veiculos}">

        <div class="img-container">
            <img th:src="${v.image != null} ? @{/veiculo/imagem/{id}(id=${v.ID})} : '/images/autoUBI.png'" th:alt="${v.modelo}">
        </div>

        <div class="info">
            <h2 th:text="${v.marca + ' ' + v.modelo}"></h2>
            <p th:text="${v.ano} + ' • ' + ${v.categoria} + ' • ' + ${v.cor}"></p>
            <p th:text="${v.preco + ' €'}" class="preco"></p>
        </div>
    </a>
</div>

<script th:src="@{/js/script.js}"></script>
</body>
</html>
